<?php

if (! function_exists('emoji_flag')) {
    /**
     * Mapping Country Code to Emoji Flag
     *
     * @param string|null $countryCode
     * @return string
     */
    function emoji_flag(?string $countryCode = null) : string
    {
        $countryCode = strtoupper($countryCode);

        $emojiFlags = [];
        $emojiFlags['AD'] = "\u{1F1E6}\u{1F1E9}";
        $emojiFlags['AE'] = "\u{1F1E6}\u{1F1EA}";
        $emojiFlags['AF'] = "\u{1F1E6}\u{1F1EB}";
        $emojiFlags['AG'] = "\u{1F1E6}\u{1F1EC}";
        $emojiFlags['AI'] = "\u{1F1E6}\u{1F1EE}";
        $emojiFlags['AL'] = "\u{1F1E6}\u{1F1F1}";
        $emojiFlags['AM'] = "\u{1F1E6}\u{1F1F2}";
        $emojiFlags['AO'] = "\u{1F1E6}\u{1F1F4}";
        $emojiFlags['AQ'] = "\u{1F1E6}\u{1F1F6}";
        $emojiFlags['AR'] = "\u{1F1E6}\u{1F1F7}";
        $emojiFlags['AS'] = "\u{1F1E6}\u{1F1F8}";
        $emojiFlags['AT'] = "\u{1F1E6}\u{1F1F9}";
        $emojiFlags['AU'] = "\u{1F1E6}\u{1F1FA}";
        $emojiFlags['AW'] = "\u{1F1E6}\u{1F1FC}";
        $emojiFlags['AX'] = "\u{1F1E6}\u{1F1FD}";
        $emojiFlags['AZ'] = "\u{1F1E6}\u{1F1FF}";
        $emojiFlags['BA'] = "\u{1F1E7}\u{1F1E6}";
        $emojiFlags['BB'] = "\u{1F1E7}\u{1F1E7}";
        $emojiFlags['BD'] = "\u{1F1E7}\u{1F1E9}";
        $emojiFlags['BE'] = "\u{1F1E7}\u{1F1EA}";
        $emojiFlags['BF'] = "\u{1F1E7}\u{1F1EB}";
        $emojiFlags['BG'] = "\u{1F1E7}\u{1F1EC}";
        $emojiFlags['BH'] = "\u{1F1E7}\u{1F1ED}";
        $emojiFlags['BI'] = "\u{1F1E7}\u{1F1EE}";
        $emojiFlags['BJ'] = "\u{1F1E7}\u{1F1EF}";
        $emojiFlags['BL'] = "\u{1F1E7}\u{1F1F1}";
        $emojiFlags['BM'] = "\u{1F1E7}\u{1F1F2}";
        $emojiFlags['BN'] = "\u{1F1E7}\u{1F1F3}";
        $emojiFlags['BO'] = "\u{1F1E7}\u{1F1F4}";
        $emojiFlags['BQ'] = "\u{1F1E7}\u{1F1F6}";
        $emojiFlags['BR'] = "\u{1F1E7}\u{1F1F7}";
        $emojiFlags['BS'] = "\u{1F1E7}\u{1F1F8}";
        $emojiFlags['BT'] = "\u{1F1E7}\u{1F1F9}";
        $emojiFlags['BV'] = "\u{1F1E7}\u{1F1FB}";
        $emojiFlags['BW'] = "\u{1F1E7}\u{1F1FC}";
        $emojiFlags['BY'] = "\u{1F1E7}\u{1F1FE}";
        $emojiFlags['BZ'] = "\u{1F1E7}\u{1F1FF}";
        $emojiFlags['CA'] = "\u{1F1E8}\u{1F1E6}";
        $emojiFlags['CC'] = "\u{1F1E8}\u{1F1E8}";
        $emojiFlags['CD'] = "\u{1F1E8}\u{1F1E9}";
        $emojiFlags['CF'] = "\u{1F1E8}\u{1F1EB}";
        $emojiFlags['CG'] = "\u{1F1E8}\u{1F1EC}";
        $emojiFlags['CH'] = "\u{1F1E8}\u{1F1ED}";
        $emojiFlags['CI'] = "\u{1F1E8}\u{1F1EE}";
        $emojiFlags['CK'] = "\u{1F1E8}\u{1F1F0}";
        $emojiFlags['CL'] = "\u{1F1E8}\u{1F1F1}";
        $emojiFlags['CM'] = "\u{1F1E8}\u{1F1F2}";
        $emojiFlags['CN'] = "\u{1F1E8}\u{1F1F3}";
        $emojiFlags['CO'] = "\u{1F1E8}\u{1F1F4}";
        $emojiFlags['CR'] = "\u{1F1E8}\u{1F1F7}";
        $emojiFlags['CU'] = "\u{1F1E8}\u{1F1FA}";
        $emojiFlags['CV'] = "\u{1F1E8}\u{1F1FB}";
        $emojiFlags['CW'] = "\u{1F1E8}\u{1F1FC}";
        $emojiFlags['CX'] = "\u{1F1E8}\u{1F1FD}";
        $emojiFlags['CY'] = "\u{1F1E8}\u{1F1FE}";
        $emojiFlags['CZ'] = "\u{1F1E8}\u{1F1FF}";
        $emojiFlags['DE'] = "\u{1F1E9}\u{1F1EA}";
        $emojiFlags['DG'] = "\u{1F1E9}\u{1F1EC}";
        $emojiFlags['DJ'] = "\u{1F1E9}\u{1F1EF}";
        $emojiFlags['DK'] = "\u{1F1E9}\u{1F1F0}";
        $emojiFlags['DM'] = "\u{1F1E9}\u{1F1F2}";
        $emojiFlags['DO'] = "\u{1F1E9}\u{1F1F4}";
        $emojiFlags['DZ'] = "\u{1F1E9}\u{1F1FF}";
        $emojiFlags['EC'] = "\u{1F1EA}\u{1F1E8}";
        $emojiFlags['EE'] = "\u{1F1EA}\u{1F1EA}";
        $emojiFlags['EG'] = "\u{1F1EA}\u{1F1EC}";
        $emojiFlags['EH'] = "\u{1F1EA}\u{1F1ED}";
        $emojiFlags['ER'] = "\u{1F1EA}\u{1F1F7}";
        $emojiFlags['ES'] = "\u{1F1EA}\u{1F1F8}";
        $emojiFlags['ET'] = "\u{1F1EA}\u{1F1F9}";
        $emojiFlags['FI'] = "\u{1F1EB}\u{1F1EE}";
        $emojiFlags['FJ'] = "\u{1F1EB}\u{1F1EF}";
        $emojiFlags['FK'] = "\u{1F1EB}\u{1F1F0}";
        $emojiFlags['FM'] = "\u{1F1EB}\u{1F1F2}";
        $emojiFlags['FO'] = "\u{1F1EB}\u{1F1F4}";
        $emojiFlags['FR'] = "\u{1F1EB}\u{1F1F7}";
        $emojiFlags['GA'] = "\u{1F1EC}\u{1F1E6}";
        $emojiFlags['GB'] = "\u{1F1EC}\u{1F1E7}";
        $emojiFlags['GD'] = "\u{1F1EC}\u{1F1E9}";
        $emojiFlags['GE'] = "\u{1F1EC}\u{1F1EA}";
        $emojiFlags['GF'] = "\u{1F1EC}\u{1F1EB}";
        $emojiFlags['GG'] = "\u{1F1EC}\u{1F1EC}";
        $emojiFlags['GH'] = "\u{1F1EC}\u{1F1ED}";
        $emojiFlags['GI'] = "\u{1F1EC}\u{1F1EE}";
        $emojiFlags['GL'] = "\u{1F1EC}\u{1F1F1}";
        $emojiFlags['GM'] = "\u{1F1EC}\u{1F1F2}";
        $emojiFlags['GN'] = "\u{1F1EC}\u{1F1F3}";
        $emojiFlags['GP'] = "\u{1F1EC}\u{1F1F5}";
        $emojiFlags['GQ'] = "\u{1F1EC}\u{1F1F6}";
        $emojiFlags['GR'] = "\u{1F1EC}\u{1F1F7}";
        $emojiFlags['GS'] = "\u{1F1EC}\u{1F1F8}";
        $emojiFlags['GT'] = "\u{1F1EC}\u{1F1F9}";
        $emojiFlags['GU'] = "\u{1F1EC}\u{1F1FA}";
        $emojiFlags['GW'] = "\u{1F1EC}\u{1F1FC}";
        $emojiFlags['GY'] = "\u{1F1EC}\u{1F1FE}";
        $emojiFlags['HK'] = "\u{1F1ED}\u{1F1F0}";
        $emojiFlags['HM'] = "\u{1F1ED}\u{1F1F2}";
        $emojiFlags['HN'] = "\u{1F1ED}\u{1F1F3}";
        $emojiFlags['HR'] = "\u{1F1ED}\u{1F1F7}";
        $emojiFlags['HT'] = "\u{1F1ED}\u{1F1F9}";
        $emojiFlags['HU'] = "\u{1F1ED}\u{1F1FA}";
        $emojiFlags['ID'] = "\u{1F1EE}\u{1F1E9}";
        $emojiFlags['IE'] = "\u{1F1EE}\u{1F1EA}";
        $emojiFlags['IL'] = "\u{1F1EE}\u{1F1F1}";
        $emojiFlags['IM'] = "\u{1F1EE}\u{1F1F2}";
        $emojiFlags['IN'] = "\u{1F1EE}\u{1F1F3}";
        $emojiFlags['IO'] = "\u{1F1EE}\u{1F1F4}";
        $emojiFlags['IQ'] = "\u{1F1EE}\u{1F1F6}";
        $emojiFlags['IR'] = "\u{1F1EE}\u{1F1F7}";
        $emojiFlags['IS'] = "\u{1F1EE}\u{1F1F8}";
        $emojiFlags['IT'] = "\u{1F1EE}\u{1F1F9}";
        $emojiFlags['JE'] = "\u{1F1EF}\u{1F1EA}";
        $emojiFlags['JM'] = "\u{1F1EF}\u{1F1F2}";
        $emojiFlags['JO'] = "\u{1F1EF}\u{1F1F4}";
        $emojiFlags['JP'] = "\u{1F1EF}\u{1F1F5}";
        $emojiFlags['KE'] = "\u{1F1F0}\u{1F1EA}";
        $emojiFlags['KG'] = "\u{1F1F0}\u{1F1EC}";
        $emojiFlags['KH'] = "\u{1F1F0}\u{1F1ED}";
        $emojiFlags['KI'] = "\u{1F1F0}\u{1F1EE}";
        $emojiFlags['KM'] = "\u{1F1F0}\u{1F1F2}";
        $emojiFlags['KN'] = "\u{1F1F0}\u{1F1F3}";
        $emojiFlags['KP'] = "\u{1F1F0}\u{1F1F5}";
        $emojiFlags['KR'] = "\u{1F1F0}\u{1F1F7}";
        $emojiFlags['KW'] = "\u{1F1F0}\u{1F1FC}";
        $emojiFlags['KY'] = "\u{1F1F0}\u{1F1FE}";
        $emojiFlags['KZ'] = "\u{1F1F0}\u{1F1FF}";
        $emojiFlags['LA'] = "\u{1F1F1}\u{1F1E6}";
        $emojiFlags['LB'] = "\u{1F1F1}\u{1F1E7}";
        $emojiFlags['LC'] = "\u{1F1F1}\u{1F1E8}";
        $emojiFlags['LI'] = "\u{1F1F1}\u{1F1EE}";
        $emojiFlags['LK'] = "\u{1F1F1}\u{1F1F0}";
        $emojiFlags['LR'] = "\u{1F1F1}\u{1F1F7}";
        $emojiFlags['LS'] = "\u{1F1F1}\u{1F1F8}";
        $emojiFlags['LT'] = "\u{1F1F1}\u{1F1F9}";
        $emojiFlags['LU'] = "\u{1F1F1}\u{1F1FA}";
        $emojiFlags['LV'] = "\u{1F1F1}\u{1F1FB}";
        $emojiFlags['LY'] = "\u{1F1F1}\u{1F1FE}";
        $emojiFlags['MA'] = "\u{1F1F2}\u{1F1E6}";
        $emojiFlags['MC'] = "\u{1F1F2}\u{1F1E8}";
        $emojiFlags['MD'] = "\u{1F1F2}\u{1F1E9}";
        $emojiFlags['ME'] = "\u{1F1F2}\u{1F1EA}";
        $emojiFlags['MF'] = "\u{1F1F2}\u{1F1EB}";
        $emojiFlags['MG'] = "\u{1F1F2}\u{1F1EC}";
        $emojiFlags['MH'] = "\u{1F1F2}\u{1F1ED}";
        $emojiFlags['MK'] = "\u{1F1F2}\u{1F1F0}";
        $emojiFlags['ML'] = "\u{1F1F2}\u{1F1F1}";
        $emojiFlags['MM'] = "\u{1F1F2}\u{1F1F2}";
        $emojiFlags['MN'] = "\u{1F1F2}\u{1F1F3}";
        $emojiFlags['MO'] = "\u{1F1F2}\u{1F1F4}";
        $emojiFlags['MP'] = "\u{1F1F2}\u{1F1F5}";
        $emojiFlags['MQ'] = "\u{1F1F2}\u{1F1F6}";
        $emojiFlags['MR'] = "\u{1F1F2}\u{1F1F7}";
        $emojiFlags['MS'] = "\u{1F1F2}\u{1F1F8}";
        $emojiFlags['MT'] = "\u{1F1F2}\u{1F1F9}";
        $emojiFlags['MU'] = "\u{1F1F2}\u{1F1FA}";
        $emojiFlags['MV'] = "\u{1F1F2}\u{1F1FB}";
        $emojiFlags['MW'] = "\u{1F1F2}\u{1F1FC}";
        $emojiFlags['MX'] = "\u{1F1F2}\u{1F1FD}";
        $emojiFlags['MY'] = "\u{1F1F2}\u{1F1FE}";
        $emojiFlags['MZ'] = "\u{1F1F2}\u{1F1FF}";
        $emojiFlags['NA'] = "\u{1F1F3}\u{1F1E6}";
        $emojiFlags['NC'] = "\u{1F1F3}\u{1F1E8}";
        $emojiFlags['NE'] = "\u{1F1F3}\u{1F1EA}";
        $emojiFlags['NF'] = "\u{1F1F3}\u{1F1EB}";
        $emojiFlags['NG'] = "\u{1F1F3}\u{1F1EC}";
        $emojiFlags['NI'] = "\u{1F1F3}\u{1F1EE}";
        $emojiFlags['NL'] = "\u{1F1F3}\u{1F1F1}";
        $emojiFlags['NO'] = "\u{1F1F3}\u{1F1F4}";
        $emojiFlags['NP'] = "\u{1F1F3}\u{1F1F5}";
        $emojiFlags['NR'] = "\u{1F1F3}\u{1F1F7}";
        $emojiFlags['NU'] = "\u{1F1F3}\u{1F1FA}";
        $emojiFlags['NZ'] = "\u{1F1F3}\u{1F1FF}";
        $emojiFlags['OM'] = "\u{1F1F4}\u{1F1F2}";
        $emojiFlags['PA'] = "\u{1F1F5}\u{1F1E6}";
        $emojiFlags['PE'] = "\u{1F1F5}\u{1F1EA}";
        $emojiFlags['PF'] = "\u{1F1F5}\u{1F1EB}";
        $emojiFlags['PG'] = "\u{1F1F5}\u{1F1EC}";
        $emojiFlags['PH'] = "\u{1F1F5}\u{1F1ED}";
        $emojiFlags['PK'] = "\u{1F1F5}\u{1F1F0}";
        $emojiFlags['PL'] = "\u{1F1F5}\u{1F1F1}";
        $emojiFlags['PM'] = "\u{1F1F5}\u{1F1F2}";
        $emojiFlags['PN'] = "\u{1F1F5}\u{1F1F3}";
        $emojiFlags['PR'] = "\u{1F1F5}\u{1F1F7}";
        $emojiFlags['PS'] = "\u{1F1F5}\u{1F1F8}";
        $emojiFlags['PT'] = "\u{1F1F5}\u{1F1F9}";
        $emojiFlags['PW'] = "\u{1F1F5}\u{1F1FC}";
        $emojiFlags['PY'] = "\u{1F1F5}\u{1F1FE}";
        $emojiFlags['QA'] = "\u{1F1F6}\u{1F1E6}";
        $emojiFlags['RE'] = "\u{1F1F7}\u{1F1EA}";
        $emojiFlags['RO'] = "\u{1F1F7}\u{1F1F4}";
        $emojiFlags['RS'] = "\u{1F1F7}\u{1F1F8}";
        $emojiFlags['RU'] = "\u{1F1F7}\u{1F1FA}";
        $emojiFlags['RW'] = "\u{1F1F7}\u{1F1FC}";
        $emojiFlags['SA'] = "\u{1F1F8}\u{1F1E6}";
        $emojiFlags['SB'] = "\u{1F1F8}\u{1F1E7}";
        $emojiFlags['SC'] = "\u{1F1F8}\u{1F1E8}";
        $emojiFlags['SD'] = "\u{1F1F8}\u{1F1E9}";
        $emojiFlags['SE'] = "\u{1F1F8}\u{1F1EA}";
        $emojiFlags['SG'] = "\u{1F1F8}\u{1F1EC}";
        $emojiFlags['SH'] = "\u{1F1F8}\u{1F1ED}";
        $emojiFlags['SI'] = "\u{1F1F8}\u{1F1EE}";
        $emojiFlags['SJ'] = "\u{1F1F8}\u{1F1EF}";
        $emojiFlags['SK'] = "\u{1F1F8}\u{1F1F0}";
        $emojiFlags['SL'] = "\u{1F1F8}\u{1F1F1}";
        $emojiFlags['SM'] = "\u{1F1F8}\u{1F1F2}";
        $emojiFlags['SN'] = "\u{1F1F8}\u{1F1F3}";
        $emojiFlags['SO'] = "\u{1F1F8}\u{1F1F4}";
        $emojiFlags['SR'] = "\u{1F1F8}\u{1F1F7}";
        $emojiFlags['SS'] = "\u{1F1F8}\u{1F1F8}";
        $emojiFlags['ST'] = "\u{1F1F8}\u{1F1F9}";
        $emojiFlags['SV'] = "\u{1F1F8}\u{1F1FB}";
        $emojiFlags['SX'] = "\u{1F1F8}\u{1F1FD}";
        $emojiFlags['SY'] = "\u{1F1F8}\u{1F1FE}";
        $emojiFlags['SZ'] = "\u{1F1F8}\u{1F1FF}";
        $emojiFlags['TC'] = "\u{1F1F9}\u{1F1E8}";
        $emojiFlags['TD'] = "\u{1F1F9}\u{1F1E9}";
        $emojiFlags['TF'] = "\u{1F1F9}\u{1F1EB}";
        $emojiFlags['TG'] = "\u{1F1F9}\u{1F1EC}";
        $emojiFlags['TH'] = "\u{1F1F9}\u{1F1ED}";
        $emojiFlags['TJ'] = "\u{1F1F9}\u{1F1EF}";
        $emojiFlags['TK'] = "\u{1F1F9}\u{1F1F0}";
        $emojiFlags['TL'] = "\u{1F1F9}\u{1F1F1}";
        $emojiFlags['TM'] = "\u{1F1F9}\u{1F1F2}";
        $emojiFlags['TN'] = "\u{1F1F9}\u{1F1F3}";
        $emojiFlags['TO'] = "\u{1F1F9}\u{1F1F4}";
        $emojiFlags['TR'] = "\u{1F1F9}\u{1F1F7}";
        $emojiFlags['TT'] = "\u{1F1F9}\u{1F1F9}";
        $emojiFlags['TV'] = "\u{1F1F9}\u{1F1FB}";
        $emojiFlags['TW'] = "\u{1F1F9}\u{1F1FC}";
        $emojiFlags['TZ'] = "\u{1F1F9}\u{1F1FF}";
        $emojiFlags['UA'] = "\u{1F1FA}\u{1F1E6}";
        $emojiFlags['UG'] = "\u{1F1FA}\u{1F1EC}";
        $emojiFlags['UM'] = "\u{1F1FA}\u{1F1F2}";
        $emojiFlags['US'] = "\u{1F1FA}\u{1F1F8}";
        $emojiFlags['UY'] = "\u{1F1FA}\u{1F1FE}";
        $emojiFlags['UZ'] = "\u{1F1FA}\u{1F1FF}";
        $emojiFlags['VA'] = "\u{1F1FB}\u{1F1E6}";
        $emojiFlags['VC'] = "\u{1F1FB}\u{1F1E8}";
        $emojiFlags['VE'] = "\u{1F1FB}\u{1F1EA}";
        $emojiFlags['VG'] = "\u{1F1FB}\u{1F1EC}";
        $emojiFlags['VI'] = "\u{1F1FB}\u{1F1EE}";
        $emojiFlags['VN'] = "\u{1F1FB}\u{1F1F3}";
        $emojiFlags['VU'] = "\u{1F1FB}\u{1F1FA}";
        $emojiFlags['WF'] = "\u{1F1FC}\u{1F1EB}";
        $emojiFlags['WS'] = "\u{1F1FC}\u{1F1F8}";
        $emojiFlags['XK'] = "\u{1F1FD}\u{1F1F0}";
        $emojiFlags['YE'] = "\u{1F1FE}\u{1F1EA}";
        $emojiFlags['YT'] = "\u{1F1FE}\u{1F1F9}";
        $emojiFlags['ZA'] = "\u{1F1FF}\u{1F1E6}";
        $emojiFlags['ZM'] = "\u{1F1FF}\u{1F1F2}";
        $emojiFlags['ZW'] = "\u{1F1FF}\u{1F1FC}";
        // Fallback is black flag
        return $emojiFlags[$countryCode] ?? "\u{1F3F4}";
    }
}
